{"version":3,"sources":["00_variables.js","01_main.js","02_reset.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n\n//Variables\nconst listCocktails = document.querySelector('.js_list-cocktails');\nconst listFavCocktails = document.querySelector('.js_list-cocktails_favorites');\nconst btnSearch = document.querySelector('.js_btn');\nconst resetBtn = document.querySelector('.js_reset');\nconst inputValue = document.querySelector('.js_input');\n\nconst url = 'https://www.thecocktaildb.com/api/json/v1/1/search.php?s=martini';\nconst urlSearch = 'https://www.thecocktaildb.com/api/json/v1/1/search.php?s=';\n\nlet listCocktailsData = [];\nlet listFavCocktailsData = [];","'use strict';\n\nconst cocktailStore = JSON.parse(localStorage.getItem(\"myfavs\"));\nif (cocktailStore){\n    listFavCocktailsData = cocktailStore;\nrenderFavListCocktails(listFavCocktailsData);\n}\n\n//renderFavListCocktails(listFavCocktailsData);\n//\"let listFavCocktailsData\"----> lista de cocteles FAVORITOS que vienen del servidor\n\n\n//FETCH\nfetch(url)\n    .then(response => response.json())\n    .then(data =>{\n        listCocktailsData = data.drinks.map((drink) =>({\n            name: drink.strDrink,\n            id: drink.idDrink,\n            picture: drink.strDrinkThumb,\n        }))\n        renderListCocktails(listCocktailsData);//pinta los elementos en el HTML\n\n})\n\nfunction renderListCocktails(listCocktailsData){ //Pintar los elementos de la lista en el HTML: dentro del <ul>\n    let html = '';\n    let img = 'https://via.placeholder.com/140x130';\n\n    for (const eachDrink of listCocktailsData) { //q recorra el listado\n        if(eachDrink.picture != ''){ //cóctel sin imagen\n            img = eachDrink.picture;\n        }\n        html += `<div><span><li class='js_selection' id=${eachDrink.id}>\n        <h3>${eachDrink.name}</h3>\n        <img src=\"${img}\" alt=\"Imagen del cóctel\" class=\"img\">\n        </li></span></div>`\n    }\n    listCocktails.innerHTML = html;\n    addEventToCoctel();       //añade los eventos a los cócteles\n\n}\n\n\nfunction renderFavListCocktails(listCocktailsData){ //pinta el listado de FAVORITOS en el html\n    let html = '';\n    let img = 'https://via.placeholder.com/140x130';\n\n    for (const eachDrink of listCocktailsData) { //q recorra el listado\n        if(eachDrink.picture != ''){ //cóctel sin imagen\n            img = eachDrink.picture;\n        }\n        html += `<div><span class=\"close\"><i class=\"fa-regular fa-circle-xmark close_btn js_cross\"></i>\n        <li class='js_selection' id=${eachDrink.id}>\n        <h3>${eachDrink.name}</h3>\n        <img src=\"${img}\" alt=\"Imagen del cóctel\" class=\"img\">\n        </li></span></div>`\n    }\n    listFavCocktails.innerHTML = html;\n    addEventToCoctel();       //añade los eventos a los cócteles\n\n}\n\n//EVENTO: al hacer click se resalta la opción elegida\n\nfunction handleClick(ev){\n    ev.currentTarget.classList.toggle('selected');//para q le añada o le quite la clase selected\n    const idSelected = ev.currentTarget.id;\n\n//FAVORITOS\n//Buscar por id en el listado de cócteles los q tienen el id con el currentTarget:\n\n//FIND(devuleve el primer objeto q cumpla la condición)\nconst favCocktails = listCocktailsData.find(eachDrink => eachDrink.id === idSelected);//busca por cada coctel nos quedamos con el q el id currentTarget=id del listado data\n\nconst indexCocktail = listFavCocktailsData.findIndex(eachDrink => eachDrink.id === idSelected);//si está en FAv se quite y si no está lo agregue:FINDINDEX:devuelve la posición dnd está el elemento, o -1 sino está\n//indexCocktail contiene la posición dnd está la paleta\n\n    if(indexCocktail === -1){//no está en el listado de FAV, entonces PUSH\n        listFavCocktailsData.push(favCocktails);//guardar en listado de favoritos:PUSH\n    }else{//si está en el listado de FAVs se elimine:SPLICE: elimina un elemento a partir de una posición\n\n        listFavCocktailsData.splice(indexCocktail,1);//a partir de esa posición elimina solo 1\n    }\n        renderFavListCocktails(listFavCocktailsData);//F q pinta lista FAV\n        localStorage.setItem(\"myfavs\", JSON.stringify(listFavCocktailsData));//guarda los datos en LS en el momento q se clica a FAV\n}\n\n\nfunction addEventToCoctel(){//añade los eventos a los cocteles y se ejecuta dp de q se pinten\n\n    const selectedItems  = document.querySelectorAll('.js_selection');//selecciona todos los <li> q tengan la clase js_selection (selección de la usuaria)\n\n    for (const eachItem of selectedItems) {\n        eachItem.addEventListener('click', handleClick);\n    }\n}\n\n\n\n\n//Búsqueda de otros cócteles\nfunction handleClickBtn(ev){\n    ev.preventDefault();\n    const searchValue = inputValue.value;\n\n    fetch(`${urlSearch}${searchValue}`)//url + búsqueda usuaria\n    .then(response => response.json())\n    .then(data =>{\n        listCocktailsData = data.drinks.map((drink) =>({\n            name: drink.strDrink,\n            id: drink.idDrink,\n            picture: drink.strDrinkThumb,\n        }))\n\n        renderListCocktails(listCocktailsData);\n    }\n    )}\n\nbtnSearch.addEventListener('click', handleClickBtn);\n\n\n//BOTÓN DE RESET\n\nfunction reset(ev){\n    ev.preventDefault();\n    listFavCocktails.innerHTML = '';\n    inputValue.value = '';\n    localStorage.removeItem(\"myfavs\");\n}\nresetBtn.addEventListener('click', reset);","'use strict';\n\nfunction reset(ev){\n    ev.preventDefault();\n    listFavCocktails.innerHTML = '';\n    inputValue.value = '';\n    localStorage.removeItem(\"myfavs\");\n}\nresetBtn.addEventListener('click', reset);"]}